<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <title>Hot Restaurant</title>
  <!-- Latest compiled and minified CSS & JS -->
  <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0/css/bootstrap.min.css">
  <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/font-awesome/4.7.0/css/font-awesome.min.css">
  <script src="https://code.jquery.com/jquery.js"></script>
  <script src="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0/js/bootstrap.min.js"></script>

</head>

<body>

  <div class="container">
    <div class="jumbotron text-center">
      <h1>Hot Restaurant</h1>
      <h3>The best restaurant in town!</h3>
      <hr>
      <a href="./index.html"><button class="btn btn-success btn-lg"><span class="fa fa-plus"></span> Home Page
        </button></a>
      <a href="./view.html"><button class="btn btn-danger btn-lg"><span class="fa fa-vcard"></span> View
          Tables </button></a>
    </div>
    <div>
      <form class="form-horizontal">
        <fieldset>

          <!-- Form Name -->
          <legend>Form Name</legend>

          <!-- Text input-->
          <div class="form-group">
            <label class="col-md-4 control-label" for="party">Party Name</label>
            <div class="col-md-4">
              <input id="name" name="party" type="text" placeholder="Hampton Party" class="form-control input-md"
                required>
            </div>
          </div>

          <!-- Text input-->
          <div class="form-group">
            <label class="col-md-4 control-label" for="id">Id</label>
            <div class="col-md-2">

              <input id="id" name="quantity" type="text" placeholder="01" class="form-control input-md" required>

            </div>
          </div>

          <!-- Text input-->
          <div class="form-group">
            <label class="col-md-4 control-label" for="phone">Phone #</label>
            <div class="col-md-4">
              <input id="phone" name="phone" type="text" placeholder="(123)-222-4411" class="form-control input-md"
                required>

            </div>
          </div>

          <!-- Text input-->
          <div class="form-group">
            <label class="col-md-4 control-label" for="email">Email</label>
            <div class="col-md-4">
              <input id="email" name="email" type="text" placeholder="jon@aol.com" class="form-control input-md"
                required> </div> Select Basic
              <!-- <div class="form-group">
                <label class="col-md-4 control-label" for="tables">Preffered Table</label>
                <div class="col-md-4">
                  <select id="tables" name="tables" class="form-control">
                    <option value="1">Option one</option>
                    <option value="2">Option two</option>
                  </select>
                </div>
              </div> -->


              <!-- Button -->
              <div class="form-group">
                <label class="col-md-4 control-label" for="submit"></label>
                <div class="col-md-4">
                  <button id="submit" name="submit" class="btn btn-primary">Submit</button>
                </div>
              </div>

        </fieldset>
      </form>
    </div>

    <a href="./table.html">Add A Table</a> | <a href="./view.html">View All Tables</a>
  </div>

  <script type="text/javascript">
    $(".submit").on("click", function (event) {
      event.preventDefault();


      var newReservation = {        
        name: $("#name").val().trim(),
        id: $('#id').val().trim(),
        email: $("#email").val().trim(),
        phone: $("#phone").val().trim(),
       
      };

      console.log(newReservation);


      $.post("/api/tables", newReservation,
        function (data) {

          // If a table is available... tell user they are booked.
          if (data) {
            alert("Yay! You are officially booked!");
          } else {
            alert("Sorry you are on the wait list");
          }
          $('#name').val("")
          $("#id").val("");
           $("#phone").val("");
          $("#email").val("");


        });

    });
  </script>
</body>

</html>